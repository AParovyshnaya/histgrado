<!DOCTYPE html>

<html lang="ru">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1" />

	<title>Градоначальники «Истории одного города» М. Е. Салтыкова-Щедрина в истории</title>

	<link rel="stylesheet" href="css/main.css">
	<link rel="stylesheet" href="css/font.css">

	<link rel="stylesheet" href="css/special/form.css">
	<link rel="stylesheet" href="css/special/messages.css">
</head>

<body>
	<header>
		<h1>Градоначальники «Истории одного города» М. Е. Салтыкова-Щедрина в истории</h1>
	</header>
	<section id="warning" class="notifications" hidden> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
			viewBox="0 0 24 24" fill="none" stroke="#8B6704" stroke-width="2" stroke-linecap="round"
			stroke-linejoin="round">
			<path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z" />
			<line x1="12" y1="9" x2="12" y2="13" />
			<line x1="12" y1="17" x2="12.01" y2="17" />
		</svg>База данных не загрузилась.</section>
	<main>
		<article class="read">
			<form>
				<div>
					<label for="cars">Выберите градоначальника:</label>
					<input type="text" list="mayors" id="mayor" name="mayor">
					<datalist id="mayors">
						<option value="Клементий">Амадей Мануйлович</option>
						<option value="Ферапонтов">Фотий Петрович</option>
						<option value="Великанов">Иван Матвеевич</option>
						<option value="Урус-Кугуш-Кильдибаев">Маныл Самылович</option>
						<option value="Ламврокакис"></option>
						<option value="Баклан">Иван Матвеевич</option>
						<option value="Пфейфер">Богдан Богданович</option>
						<option value="Брудастый">Дементий Варламович</option>
						<option value="Двоекуров">Семен Константиныч</option>
						<option value="Маркиз де Санглот">Антон Протасьевич</option>
						<option value="Фердынщенко">Петр Петрович</option>
						<option value="Бородавкин">Василиск Семенович</option>
						<option value="Негодяев">Онуфрий Иванович</option>
						<option value="Микаладзе">Ксаверий Георгиевич</option>
						<option value="Беневоленский">Феофилакт Иринархович</option>
						<option value="Прыщ">Иван Пантелеич</option>
						<option value="Иванов">Никодим Осипович</option>
						<option value="Дю Шарио">Иван Пантелеич</option>
						<option value="Грустилов">Эраст Андреевич</option>
						<option value="Угрюм-Бурчеев"></option>
						<option value="Перехват-Залихватский">Архистратиг Стратилатович</option>
					</datalist>
				</div>
				<fieldset id="mayor_properties">
					<legend>Что бы вы хотели бы про него узнать, сударь(-ыня)?</legend>
					<label><input type="checkbox" value="name" id="name" name="mayor_properties"
							checked><span>Имя</span></label>
					<label><input type="checkbox" value="pedigree" id="pedigree" name="mayor_properties"
							checked><span>Отчество</span></label>
					<label><input type="checkbox" value="grade" id="grade" name="mayor_properties"
							checked><span>Чин</span></label>
					<label><input type="checkbox" value="pedigree" id="pedigree"
							name="mayor_properties"><span>Происхождение</span></label>
					<label><input type="checkbox" value="friend" id="friend"
							name="mayor_properties"><span>Общеизвестного друга, товарища</span></label>
					<label><input type="checkbox" value="end" id="end" name="mayor_properties" checked><span>Причину,
							вследствие чего градоначальник закончил своё славное правление</span></label>
					<label><input type="checkbox" value="edate" id="edate" name="mayor_properties"><span>Дату окончания
							правительства над Глуповым</span></label>
				</fieldset>
				<fieldset>
					<legend>Мы покажем вам дела сего градоначальника и былью поросшие подвиги из истории государства Российского. Как много вы
						хотите видеть подробностей, господин?</legend>
						<label><input type="checkbox" value="mayor" id="mayor" name="deals_properties"
								checked disabled><span>Имя градоначальника</span></label>
						<label><input type="checkbox" value="pedigree" id="pedigree" name="deals_properties"
								checked disabled><span>Отчество</span></label>
						<label><input type="checkbox" value="grade" id="grade" name="deals_properties"
								checked><span>Чин</span></label>
				</fieldset>

			</form>
		</article>
		<article class="write"></article>
	</main>
	<button id="awoke">Ну давай же</button>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/sql.js/1.5.0/sql-wasm.js"></script>

	<script type="module">
		import {download} from "./js/download/download.js";

		document.getElementById("awoke").onclick = awoke;
		function awoke() {
			let request = indexedDB.open("mayors");
			console.log(request);
			request.onupgradeneeded = function () {
				const database = download();
			};
			request.onerror = function () {
				console.error("Error", request.error);
			};
			request.onsuccess = function () {
				const database = download().then(database => {console.log(database); database.exec("SELECT * FROM mayors");});
			}
			request.onblocked = function () {
			}
		}
	</script>
</body>

</html>